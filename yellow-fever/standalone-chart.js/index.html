<!doctype html>
<html>

<head>
    <title>Visualization of simulation results</title>

    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta name="description" content="">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src="node_modules/chart.js/dist/Chart.js"></script>
    <script src="app/utils.js"></script>
    <!-- styles -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
    </div>
    <script>
        function createConfig(mode, intersect) {
            return {
                type: 'line',
                data: {
                    labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30],
                    datasets: [{
                        label: 'My First dataset',
                        borderColor: window.chartColors.red,
                        backgroundColor: window.chartColors.red,
                        data: [10, 10, 10, 7, 4, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                        fill: false,
                    }, {
                        label: 'My Second dataset',
                        borderColor: window.chartColors.blue,
                        backgroundColor: window.chartColors.blue,
                        data: [7, 49, 46, 13, 25, 30, 22],
                        fill: false,
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Mode: ' + mode + ', intersect = ' + intersect
                    },
                    tooltips: {
                        mode: mode,
                        intersect: intersect,
                    },
                    hover: {
                        mode: mode,
                        intersect: intersect
                    },
                }
            };
        }

        window.onload = function() {
            var container = document.querySelector('.container');

            [{
                mode: 'index',
                intersect: true,
            }, {
                mode: 'index',
                intersect: false,
            }].forEach(function(details) {
                var div = document.createElement('div');
                div.classList.add('chart-container');

                var canvas = document.createElement('canvas');
                div.appendChild(canvas);
                container.appendChild(div);

                var ctx = canvas.getContext('2d');
                var config = createConfig(details.mode, details.intersect);
                new Chart(ctx, config);
            });
        };
    </script>
</body>

</html>